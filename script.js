// Translations
const translations = {
    'pt-BR': {
        'hero.title': 'TomFinder',
        'hero.subtitle': 'Assistente musical inteligente para mÃºsicos e cantores',
        'hero.description': 'Descubra o tom, BPM e acordes de mÃºsicas automaticamente. Pratique vocais com teclado de piano interativo.',
        'hero.download': 'Baixar no Google Play',
        'features.title': 'Funcionalidades',
        'features.keyFinder.title': 'Descobrir Tom',
        'features.keyFinder.description': 'Descubra automaticamente o tom, BPM e sequÃªncia de acordes de qualquer mÃºsica do YouTube, Spotify ou SoundCloud.',
        'features.vocalPractice.title': 'PrÃ¡tica Vocal',
        'features.vocalPractice.description': 'Teclado de piano interativo com pads musicais para aquecimento vocal, oraÃ§Ã£o e prÃ¡tica musical.',
        'features.multilang.title': 'Multi-idioma',
        'features.multilang.description': 'DisponÃ­vel em PortuguÃªs, InglÃªs, Espanhol e FrancÃªs para mÃºsicos ao redor do mundo.',
        'features.worship.title': 'Para Equipes de Louvor',
        'features.worship.description': 'Desenvolvido especialmente para ajudar equipes de louvor e mÃºsicos a encontrar a tonalidade perfeita.',
        'about.title': 'Sobre o App',
        'about.text': 'Este app foi desenvolvido com muito carinho para ajudar o grupo de louvor da minha igreja. Como mÃºsicos, sabemos como Ã© desafiador descobrir o tom exato de uma mÃºsica ou encontrar a tonalidade perfeita para nossa voz. Espero que esta ferramenta seja uma bÃªnÃ§Ã£o na sua caminhada musical!',
        'about.download': 'Baixar Agora',
        'footer.copyright': 'Â© 2024 TomFinder. Desenvolvido com â¤ï¸ para mÃºsicos.',
        'footer.version': 'VersÃ£o 1.0.0'
    },
    'en': {
        'hero.title': 'TomFinder',
        'hero.subtitle': 'Intelligent music assistant for musicians and singers',
        'hero.description': 'Automatically discover the key, BPM and chords of songs. Practice vocals with an interactive piano keyboard.',
        'hero.download': 'Download on Google Play',
        'features.title': 'Features',
        'features.keyFinder.title': 'Key Finder',
        'features.keyFinder.description': 'Automatically discover the key, BPM and chord progression of any song from YouTube, Spotify or SoundCloud.',
        'features.vocalPractice.title': 'Vocal Practice',
        'features.vocalPractice.description': 'Interactive piano keyboard with musical pads for vocal warm-up, prayer and musical practice.',
        'features.multilang.title': 'Multi-language',
        'features.multilang.description': 'Available in Portuguese, English, Spanish and French for musicians around the world.',
        'features.worship.title': 'For Worship Teams',
        'features.worship.description': 'Specially developed to help worship teams and musicians find the perfect key.',
        'about.title': 'About the App',
        'about.text': 'This app was lovingly developed to help my church\'s worship team. As musicians, we know how challenging it can be to find the exact key of a song or discover the perfect range for our voice. I hope this tool helps you on your musical journey!',
        'about.download': 'Download Now',
        'footer.copyright': 'Â© 2024 TomFinder. Developed with â¤ï¸ for musicians.',
        'footer.version': 'Version 1.0.0'
    },
    'es': {
        'hero.title': 'TomFinder',
        'hero.subtitle': 'Asistente musical inteligente para mÃºsicos y cantantes',
        'hero.description': 'Descubre automÃ¡ticamente la tonalidad, BPM y acordes de canciones. Practica vocales con un teclado de piano interactivo.',
        'hero.download': 'Descargar en Google Play',
        'features.title': 'CaracterÃ­sticas',
        'features.keyFinder.title': 'Buscador de Tonalidad',
        'features.keyFinder.description': 'Descubre automÃ¡ticamente la tonalidad, BPM y progresiÃ³n de acordes de cualquier canciÃ³n de YouTube, Spotify o SoundCloud.',
        'features.vocalPractice.title': 'PrÃ¡ctica Vocal',
        'features.vocalPractice.description': 'Teclado de piano interactivo con pads musicales para calentamiento vocal, oraciÃ³n y prÃ¡ctica musical.',
        'features.multilang.title': 'Multi-idioma',
        'features.multilang.description': 'Disponible en PortuguÃ©s, InglÃ©s, EspaÃ±ol y FrancÃ©s para mÃºsicos de todo el mundo.',
        'features.worship.title': 'Para Equipos de Alabanza',
        'features.worship.description': 'Desarrollado especialmente para ayudar a equipos de alabanza y mÃºsicos a encontrar la tonalidad perfecta.',
        'about.title': 'Acerca de la App',
        'about.text': 'Esta aplicaciÃ³n fue desarrollada con mucho cariÃ±o para ayudar al equipo de alabanza de mi iglesia. Como mÃºsicos, sabemos lo desafiante que puede ser descubrir la tonalidad exacta de una canciÃ³n o encontrar el rango perfecto para nuestra voz. Â¡Espero que esta herramienta sea una bendiciÃ³n en tu camino musical!',
        'about.download': 'Descargar Ahora',
        'footer.copyright': 'Â© 2024 TomFinder. Desarrollado con â¤ï¸ para mÃºsicos.',
        'footer.version': 'VersiÃ³n 1.0.0'
    },
    'fr': {
        'hero.title': 'TomFinder',
        'hero.subtitle': 'Assistant musical intelligent pour musiciens et chanteurs',
        'hero.description': 'DÃ©couvrez automatiquement la tonalitÃ©, le BPM et les accords des chansons. Pratiquez le chant avec un clavier de piano interactif.',
        'hero.download': 'TÃ©lÃ©charger sur Google Play',
        'features.title': 'FonctionnalitÃ©s',
        'features.keyFinder.title': 'DÃ©couvrir la TonalitÃ©',
        'features.keyFinder.description': 'DÃ©couvrez automatiquement la tonalitÃ©, le BPM et la progression d\'accords de n\'importe quelle chanson de YouTube, Spotify ou SoundCloud.',
        'features.vocalPractice.title': 'Pratique Vocale',
        'features.vocalPractice.description': 'Clavier de piano interactif avec pads musicaux pour l\'Ã©chauffement vocal, la priÃ¨re et la pratique musicale.',
        'features.multilang.title': 'Multi-langue',
        'features.multilang.description': 'Disponible en Portugais, Anglais, Espagnol et FranÃ§ais pour les musiciens du monde entier.',
        'features.worship.title': 'Pour les Ã‰quipes de Louange',
        'features.worship.description': 'SpÃ©cialement dÃ©veloppÃ© pour aider les Ã©quipes de louange et les musiciens Ã  trouver la tonalitÃ© parfaite.',
        'about.title': 'Ã€ Propos de l\'App',
        'about.text': 'Cette application a Ã©tÃ© dÃ©veloppÃ©e avec beaucoup d\'amour pour aider l\'Ã©quipe de louange de mon Ã©glise. En tant que musiciens, nous savons Ã  quel point il peut Ãªtre difficile de trouver la tonalitÃ© exacte d\'une chanson ou de dÃ©couvrir la gamme parfaite pour notre voix. J\'espÃ¨re que cet outil vous aidera dans votre parcours musical !',
        'about.download': 'TÃ©lÃ©charger Maintenant',
        'footer.copyright': 'Â© 2024 TomFinder. DÃ©veloppÃ© avec â¤ï¸ pour les musiciens.',
        'footer.version': 'Version 1.0.0'
    }
};

// Language configuration
const languages = {
    'pt-BR': { flag: 'ðŸ‡§ðŸ‡·', code: 'PT' },
    'en': { flag: 'ðŸ‡¨ðŸ‡¦', code: 'EN' },
    'es': { flag: 'ðŸ‡ªðŸ‡¸', code: 'ES' },
    'fr': { flag: 'ðŸ‡«ðŸ‡·', code: 'FR' }
};

// Get current language from localStorage or default to pt-BR
let currentLang = localStorage.getItem('tomfinder-lang') || 'pt-BR';

// Initialize language
function initLanguage() {
    // Update HTML lang attribute
    document.documentElement.lang = currentLang === 'pt-BR' ? 'pt-BR' : currentLang;
    
    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[currentLang] && translations[currentLang][key]) {
            element.textContent = translations[currentLang][key];
        }
    });
    
    // Update language selector
    const langInfo = languages[currentLang];
    document.getElementById('langFlag').textContent = langInfo.flag;
    document.getElementById('langText').textContent = langInfo.code;
}

// Change language
function changeLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('tomfinder-lang', lang);
    initLanguage();
    closeLangDropdown();
}

// Language dropdown functions
function toggleLangDropdown() {
    const dropdown = document.getElementById('langDropdown');
    dropdown.classList.toggle('hidden');
}

function closeLangDropdown() {
    document.getElementById('langDropdown').classList.add('hidden');
}

// Event listeners
document.addEventListener('DOMContentLoaded', () => {
    initLanguage();
    
    // Language button
    document.getElementById('langBtn').addEventListener('click', (e) => {
        e.stopPropagation();
        toggleLangDropdown();
    });
    
    // Language options
    document.querySelectorAll('.lang-option').forEach(option => {
        option.addEventListener('click', (e) => {
            e.stopPropagation();
            const lang = option.getAttribute('data-lang');
            changeLanguage(lang);
        });
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('#langBtn') && !e.target.closest('#langDropdown')) {
            closeLangDropdown();
        }
    });
});

